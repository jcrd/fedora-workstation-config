#!/bin/sh

source lib/dnf.sh
source lib/snap.sh
source lib/systemd.sh

enable_coprs
install_packages
install_snaps

sudo cp -p "$WORKDIR"/files/50-arduino-lighten.rules /etc/udev/rules.d

sudo cp -p /usr/share/ddcutil/data/45-ddcutil-i2c.rules /etc/udev/rules.d
sudo groupadd --system i2c
sudo usermod -aG i2c "$USER"

sudo usermod -aG dialout "$USER"

mkdir -p "$XDG_CONFIG_HOME"/snapback
cp -p "$WORKDIR"/files/snapback.conf "$XDG_CONFIG_HOME"/snapback
snapback -i

enable_units
